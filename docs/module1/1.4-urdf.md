# 1.4 URDF for Humanoids: Defining Your Robot's Body

Up until now, we've focused on the software "nervous system" of a robot – how its different parts communicate. But a robot also needs a physical body! How do we describe this body to the software, especially for complex structures like humanoids? This is where **URDF (Unified Robot Description Format)** comes in.

## What is URDF?

URDF is an XML file format used in ROS 2 (and ROS 1) to describe all aspects of a robot's physical characteristics. It's not just about how a robot looks, but also about its kinematics (how its parts move relative to each other) and dynamics (how forces affect its movement).

## Key Concepts in URDF

A URDF file primarily defines two types of elements: **links** and **joints**.

### Links: The Robot's Body Parts

*   **Definition**: A `<link>` element represents a rigid body segment of the robot. Think of them as the robot's bones or body parts – a torso, an upper arm, a forearm, a hand, a wheel, etc.
*   **Attributes**: Links have physical properties such as:
    *   **Visual**: How the link looks (e.g., its shape, color, mesh file). This is used for visualization in tools like RViz.
    *   **Inertial**: Mass, center of mass, and inertia tensor. These are crucial for physics simulations.
    *   **Collision**: The geometry used for collision detection. This can be simpler than the visual geometry to save computational power.

**Example of a Link**:

```xml
<link name="torso">
  <visual>
    <geometry>
      <box size="0.2 0.3 0.5"/>
    </geometry>
    <material name="blue">
      <color rgba="0 0 1 1"/>
    </material>
  </visual>
  <inertial>
    <mass value="10.0"/>
    <origin xyz="0 0 0.25"/>
    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>
  </inertial>
  <collision>
    <geometry>
      <box size="0.2 0.3 0.5"/>
    </geometry>
  </collision>
</link>
```

### Joints: Connecting the Body Parts

*   **Definition**: A `<joint>` element describes the connection between two links and specifies their relative motion. Joints are what allow a robot to move.
*   **Attributes**: Joints define:
    *   **Parent and Child Links**: Every joint connects a `parent` link to a `child` link.
    *   **Type**: The type of motion allowed. Common types include:
        *   `revolute`: Rotation around a single axis (like a hinge).
        *   `continuous`: Revolute joint with no upper or lower limits (e.g., a wheel).
        *   `prismatic`: Linear motion along a single axis (like a piston).
        *   `fixed`: No motion between links (e.g., a camera rigidly attached to a torso).
    *   **Origin**: The translation and rotation of the joint frame relative to the parent link's frame.
    *   **Axis**: For revolute and prismatic joints, the axis of rotation or translation.
    *   **Limits**: (For revolute and prismatic) The upper and lower bounds of motion, and effort/velocity limits.

**Example of a Joint**:

```xml
<joint name="torso_to_head_joint" type="revolute">
  <parent link="torso"/>
  <child link="head"/>
  <origin xyz="0 0 0.25" rpy="0 0 0"/>
  <axis xyz="0 0 1"/>
  <limit effort="100" velocity="100" lower="-1.57" upper="1.57"/>
</joint>
```

## URDF for Humanoid Robots

For humanoid robots, URDF is used to meticulously define:

*   **Kinematic Chain**: The hierarchy of links and joints that form the robot's skeleton, from the base link (often the torso or hips) outwards to the end-effectors (hands, feet, head).
*   **Degrees of Freedom (DoF)**: Each non-fixed joint adds a degree of freedom, allowing the robot to move in specific ways. Humanoids typically have many DoF to achieve human-like motion.
*   **Self-Collision**: URDF's collision geometry helps avoid parts of the robot colliding with itself during motion.

URDF files are often accompanied by other formats, such as SRDF (Semantic Robot Description Format), which adds extra information like joint groups and disabled self-collisions, and meshes (e.g., `.stl`, `.dae`) for detailed visual and collision models.

## Summary

URDF is the language used to describe your robot's physical form to ROS 2. By defining **links** (rigid body parts) and **joints** (connections between parts that allow motion), you create a complete kinematic and dynamic model of your robot. This model is essential for visualization, motion planning, control, and simulation, allowing your software "nervous system" to understand and interact with its physical "body."
